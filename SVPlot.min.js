var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{A:()=>d});class s{static ctx;constructor(t,e={},i=!1){s.ctx=this,this.$root=s.make(t,e,i)}static make(t,e={},i=!1){return t&&"object"==typeof e?e instanceof Node?e:("svg"==t&&(i=!0),s.config(i?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t),e,i)):null}static config(t,e,i=!1){if(Array.isArray(t))return t.forEach((t=>s.config(t,e,i))),null;if(!(t instanceof Node)||"object"!=typeof e)return t;let a=e.context;s.ctx=null===a?null:a||s.ctx,a=s.ctx;let l=e=>{if(e)if(e instanceof Node)t.appendChild(e);else if(e instanceof s)t.appendChild(e.$root);else if("string"==typeof e)t.innerHTML+=e;else if("object"==typeof e){let a=s.make(e.tag??"div",e,i||"svg"==e.tag);a&&t.appendChild(a)}};for(const[i,r]of Object.entries(e))if(r)switch(i){case"tag":case"context":case"get":case"also":continue;case"text":t.textContent=r+"";break;case"html":t.innerHTML=r;break;case"class":(Array.isArray(r)?r:r.split(" ")).map((e=>e&&t.classList.add(e)));break;case"push":r.push(t);break;case"var":a&&(a["$"+r]=t);break;case"events":for(let e in r)t.addEventListener(e,r[e].bind(a));break;case"parent":r&&r.appendChild(t);break;case"attrs":for(let e in r)t.setAttribute(e,r[e]);break;case"props":for(let e in r)t[e]=r[e];break;case"child_r":s.clear(t);case"child":l(r);break;case"children_r":s.clear(t);case"children":for(const t of r)l(t);break;case"style":if("string"==typeof r)t.style.cssText+=r+";";else for(let e in r)t.style[e]=r[e];break;default:t[i]=r}return e.also&&a&&e.also.call(a,t),t}static clear(t){for(;t.firstChild;)t.removeChild(t.lastChild)}static makeArray(t,e=!1){return t&&Array.isArray(t)?t.map((t=>s.make(t.tag,t,e))):[]}static makeShadow(t,e={},i=null){if(!t||"object"!=typeof e)return null;let a=t instanceof Node?t:document.createElement(t);return a.attachShadow({mode:"open"}),s.config(a.shadowRoot,{context:e.context,children:[{tag:"style",textContent:i??""},e.child??{},...e.children??[]]}),delete e.children,delete e.child,s.config(a,e),a}}class i{static make=(t,e)=>s.make(t,e,!0);static config=(t,e)=>s.config(t,e,!0);static makeArray=t=>s.makeArray(t,!0);static svg=(t={},e={})=>i._make("svg",t,e);static rect=(t,e,s,a,l,r,o={},n={})=>i._make("rect",{...o,x:t,y:e,width:s,height:a,rx:l,ry:r},n);static circle=(t,e,s,a={},l={})=>i._make("circle",{...a,cx:t,cy:e,r:s},l);static line=(t,e,s,a,l={},r={})=>i._make("line",{...l,x1:t,y1:e,x2:s,y2:a},r);static polyline=(t,e={},s={})=>i._make("polyline",{...e,points:t},s);static polygon=(t,e={},s={})=>i._make("polygon",{...e,points:t},s);static path=(t,e={},s={})=>i._make("path",{...e,d:t},s);static text=(t,e,s,a={},l={})=>i._make("text",{...a,x:e,y:s},{...l,text:t});static _make=(t,e={},s={})=>i.make(t,{attrs:{...e},...s})}new Set,new Map;const a=(t,e,s)=>t<e?e:t>s?s:t,l=(t,e=1)=>t[t.length-e],r=()=>(new Date).getTime(),o=()=>new Promise((t=>requestAnimationFrame((()=>setTimeout(t,0))))),n=t=>{if(!Array.isArray(t))return t.clientWidth||t.clientHeight;for(let e of t)if(!n(e))return 0;return 1},c=15,h=12;class d{data={};cfg={dark:!1,type:"plot",labels:[],period:200};sel_mode=!1;pressX=0;constructor(t,e={},l=window){d.css=function(t){if(t){let e=document.createElement("style");e.innerText=t,document.head.appendChild(e)}return null}(d.css),t.style.overflow="hidden",s.make("div",{context:this,parent:t,class:"svp",var:"svp",children:[{class:"menu",children:[{class:"labels",var:"labels"},{style:"display:flex",children:[{class:"buttons none",var:"buttons",children:[{class:"button",child:u("M 2,12 H 22 M 2,12 6.2,16.2 M 2,12 6.2,7.7 M 22,12 17.7,7.7 M 22,12 17.7,16.2"),events:{click:()=>this.fitData()}},{class:"button",var:"single",child:u("M17 4V20M17 20L13 16M17 20L21 16M7 20V4M7 4L3 8M7 4L11 8"),events:{click:()=>{this.$single.classList.toggle("active"),this._render()}}},{class:"button",text:"1s",events:{click:()=>this._setMax(1)}},{class:"button",text:"1m",events:{click:()=>this._setMax(60)}},{class:"button",text:"1h",events:{click:()=>this._setMax(3600)}},{class:"button",text:"1d",events:{click:()=>this._setMax(86400)}},{class:"button",text:"1w",events:{click:()=>this._setMax(604800)}},{class:["sel_mode","button"],var:"sel_mode",child:u("M4.4 3.4c-.5-.1-.7-.2-.84-.14a.5.5 0 0 0-.3.3c-.1.16.0.4.14.84l4.21 14.3c.13.4.2.64.3.7a.5.5 0 0 0 .4.1c.16-.03.3-.2.6-.5L12 16l4.4 4.4.2.2.3.3.4.3a.5.5 0 0 0 .31 0c.1-.0.2-.14.41-.3l2.9-2.9c.2-.2.3-.3.3-.41a.5.5 0 0 0 0-.31c-.1-.1-.1-.2-.3-.41L16 12l3.1-3.1c.3-.3.47-.47.5-.63a.5.5 0 0 0-.1-.4c-.1-.13-.3-.2-.74-.31l-14.3-4.2Z"),events:{click:()=>{this.sel_mode=!this.sel_mode,this.$sel_mode.classList.toggle("active")}}},{class:"button",child:u("M3 21L21 3M3 21H9M3 21L3 15M21 3H15M21 3V9"),var:"fullscr",events:{click:()=>{this.$svp.classList.toggle("fullscreen"),this.$fullscr.classList.toggle("active")}}},{class:"button",child:u("M21 21H3M18 11L12 17M12 17L6 11M12 17V3"),events:{click:()=>function(t){t.style.width=t.clientWidth+"px",t.style.height=t.clientHeight+"px";let e=new XMLSerializer,s=document.createElement("a");s.href="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e.serializeToString(t)),s.download="plot.svg",s.click(),t.style.width="100%",t.style.height="100%"}(this.$plot)}},{class:"button",child:u("M18 6L6 18M6 6L18 18"),events:{click:()=>this.clearData()}},{class:"button",child:u("M4 12H20M20 12L14 6M20 12L14 18"),var:"auto",events:{click:()=>this.autoData()}}]}]},{class:"dots",child:{tag:"svg",var:"dots",style:"width: 4px;height: 18px",children:[...Array(3).keys()].map((t=>({tag:"circle",attrs:{cx:2,cy:2+7*t,r:2,fill:"var(--font)"}})))},events:{click:()=>{this.$buttons.classList.toggle("none"),this.$labels.classList.toggle("none")}}}]},{class:"svcont",var:"svcont",child:{tag:"svg",var:"plot",class:"svg",style:"font-family: Verdana, sans-serif;pointer-events: none;",attrs:{width:"100%",height:"100%"},children:[{tag:"g",var:"grid"},{tag:"g",var:"cursor"},{tag:"g",var:"lines"},{tag:"g",var:"markers"},{tag:"g",var:"gtext"},{tag:"g",var:"dur",children:[{tag:"rect",var:"dur_rect",attrs:{y:15,width:0,stroke:"none",fill:"black"},style:"filter: opacity(0.3)"},{tag:"text",var:"dur_text",attrs:{y:11,fill:"--font","text-anchor":"middle"},style:"font-size: 13px"}]},{tag:"g",var:"tooltip",style:"filter: opacity(0.9)"}]}}]}),function(t,e,s=window,i=300,a=5){const l="ontouchstart"in s.document.documentElement;let r=0,o=[],n=null,c={x:0,y:0},h=!1,d=(...t)=>s.document.addEventListener(...t),p=(...t)=>s.document.removeEventListener(...t),f=(t,s)=>{e({type:t,touch:l,move:{x:0,y:0},pos:{x:0,y:0},drag:c,pressed:l?o.length>=2:r,...s})},g=(e,i)=>({x:Math.round(e-t.getBoundingClientRect().left),y:Math.round(i-t.getBoundingClientRect().top-s.document.documentElement.scrollTop)}),u=t=>g(t.pageX,t.pageY),m=()=>{c={x:0,y:0},n&&clearTimeout(n),n=setTimeout((()=>n=null),i)},x=()=>{n&&(clearTimeout(n),n=null)},v=()=>{let t=0;return n&&(x(),t=Math.abs(c.x)<a&&Math.abs(c.y)<a),c={x:0,y:0},t};if(l){let e=(t,e)=>{for(let i in t.changedTouches)if(t.changedTouches[i].identifier==e)return s(t,i);return null},s=(t,e)=>{let s=t.changedTouches[e];return{id:s.identifier,x:s.pageX,y:s.pageY}},i=e=>{h&&e.target!=t&&!o.length&&(h=!1,f("leave"),p("touchstart",i),p("touchmove",a),p("touchend",l),p("touchcancel ",l))},a=t=>{if(o.length){if(1==o.length){let s=o[0],i=e(t,s.id);if(!i)return;t.preventDefault(),f("move",{move:{x:i.x-s.x,y:i.y-s.y},pos:g(i.x,i.y)}),x()}else{let s=[0,0],i=[0,0],a=0;for(let l in s)i[l]=o[l],s[l]=e(t,i[l].id),s[l]?a=1:s[l]=i[l];if(a){t.preventDefault();let e=(s[0].x+s[1].x)/2,a=(s[0].y+s[1].y)/2,l=e-(i[0].x+i[1].x)/2,r=a-(i[0].y+i[1].y)/2;c.x+=l,c.y+=r,f("drag",{move:{x:l,y:r},pos:g(e,a)});let o=Math.abs(s[0].x-s[1].x),n=Math.abs(s[0].y-s[1].y),h=Math.abs(i[0].x-i[1].x),d=Math.abs(i[0].y-i[1].y);f("zoom",{zoom:Math.hypot(o,n)-Math.hypot(h,d),pos:g(e,a)})}}for(let s in o){let i=e(t,o[s].id);i&&(o[s]=i)}}},l=t=>{if(o.length){let e=s(t,0);if(!e)return;let i=o.findIndex((t=>e.id==t.id));~i&&(t.preventDefault(),o.splice(i,1),o.length||(f("trelease",{pos:g(e.x,e.y)}),v()&&f("click",{pos:g(e.x,e.y)})),1==o.length&&f("release",{pos:g(e.x,e.y)}))}};t.addEventListener("touchstart",(t=>{t.preventDefault();let e=s(t,0);if(!e)return;let r=o.findIndex((t=>e.id==t.id));~r&&o.splice(r,1),o.unshift(e),1==o.length&&(m(),h||(h=!0,d("touchstart",i,{passive:!1}),d("touchmove",a,{passive:!1}),d("touchend",l),d("touchcancel ",l),f("enter",{pos:g(e.x,e.y)})),f("tpress",{pos:g(e.x,e.y)})),2==o.length&&(f("press",{pos:g(e.x,e.y)}),x())}),{passive:!1})}else{let e=()=>{p("mousemove",i),p("mouseup",a)},s=()=>{d("mousemove",i),d("mouseup",a)},i=t=>{r&&(t.preventDefault(),c.x+=t.movementX,c.y+=t.movementY,f("drag",{move:{x:t.movementX,y:t.movementY},pos:u(t)}))},a=s=>{r&&(s.preventDefault(),r=0,f("release",{pos:u(s)}),v()&&f("click",{pos:u(s)}),s.target!==t&&e())};t.addEventListener("mouseenter",(t=>{f("enter",{pos:u(t)}),s()})),t.addEventListener("mouseleave",(t=>{f("leave",{pos:u(t)}),r||e()})),t.addEventListener("mousedown",(t=>{r||(s(),t.preventDefault(),r=1,m(),f("press",{pos:u(t)}))})),t.addEventListener("mousemove",(t=>{r||f("move",{move:{x:t.movementX,y:t.movementY},pos:u(t)})})),t.addEventListener("wheel",(t=>{t.preventDefault(),f("zoom",{zoom:-t.deltaY/100,pos:u(t)})}),{passive:!1})}}(this.$svcont,(t=>{let e=this.$plot.clientWidth,s=this.$plot.clientHeight;if(!e||!s)return;let l="timeline"==this.cfg.type;switch(t.touch&&"move"===t.type&&(t.type="drag"),t.type){case"zoom":{let s=()=>this.maxSecs=a(this.maxSecs,1,31536e4),i=this.maxSecs;t.touch?(this.maxSecs-=t.zoom/(e/this.maxSecs/2),s(),this.tZero+=(this.maxSecs-i)/2):(this.maxSecs*=-t.zoom/5+1,s(),this.tZero+=(this.maxSecs-i)*(1-t.pos.x/e)),this.auto&&this._resetZ(),this._clearMarkers(),this._render()}break;case"drag":if(this.sel_mode){let s=Math.abs(t.pos.x-this.pressX),a=Math.min(this.pressX,t.pos.x),l=s/e*this.maxSecs;i.config(this.$dur_rect,{attrs:{x:Math.min(this.pressX,t.pos.x),width:s}}),i.config(this.$dur_text,{attrs:{x:a+s/2,fill:this._getProp("--font")},text:Math.floor(l/86400)+":"+new Date(1e3*l).toISOString().slice(11,22)})}else this.tZero-=t.move.x/(e/this.maxSecs),this._auto(!1),this._render();break;case"press":case"tpress":this._clearMarkers(),this.pressX=t.pos.x,this.sel_mode&&(i.config(this.$dur_rect,{attrs:{x:t.pos.x,width:0,height:s-c-16}}),this.$dur.style.display="unset");break;case"release":case"trelease":this.$dur.style.display="none";break;case"leave":this._clearMarkers();break;case"move":case"click":{let r=1e3*(this.tZero-(1-t.pos.x/e)*this.maxSecs),o=150,n=a(t.pos.x,o/2,e-o/2),d=t=>(t=>new Date(t-6e4*(new Date).getTimezoneOffset()))(t).toISOString().split("T");if(i.config(this.$cursor,{children_r:[g(t.pos.x,l?0:16,t.pos.x,s-c,this._getProp("--grid"),1),i.rect(n-o/2,s-c,o,c,3,0,{fill:this._getProp("--grid")}),f(d(r).join(" ").slice(0,-3),n,s-3,this._getProp("--font"),12,{"text-anchor":"middle"})]}),!this.points)break;let p=t=>{let s=i.make("rect");i.config(this.$tooltip,{children_r:[s,...t]});let a=this.$tooltip.getBBox();i.config(s,{attrs:{x:a.x-4,width:a.width+8,y:a.y-4,height:a.height+8,rx:4,fill:this._getProp("--back"),stroke:this._getProp("--font")}}),i.config(this.$tooltip,{attrs:{transform:`translate(${e-1-a.width-4} 18)`}})},u=this._getProp("--font");if(l){if("click"==t.type){for(let t of this.points)t.rect.classList.remove("active");for(let e of this.points)if(t.pos.x>=e.x1&&t.pos.x<=e.x2&&t.pos.y>=e.y1&&t.pos.y<=e.y2){let t=-16,s=(t,e,s,i)=>f(t+": "+(e?"-":d(s).join(" ").slice(0,-5)),0,i,u,h);p([f(this.cfg.labels[e.axis],0,t+=16,this._getCol(e.axis),h,{},!0),s("Start",e.block.fstart,e.block.start,t+=19),s("Stop",e.block.fstop,e.block.stop,t+=16),f("Duration: "+new Date(e.block.stop-e.block.start).toISOString().substring(11,19),0,t+=16,u,h)]),e.rect.classList.add("active");break}}}else{let t=0,e=Object.keys(this.points).map(Number);for(let s=1;s<e.length;s++)if(e[s]>=r){t=e[e[s]-r<r-e[s-1]?s:s-1];break}if(t&&this.points[t].y){i.config(this.$markers,{children_r:this.points[t].y.map(((e,s)=>this._disabled(s)?null:i.circle(this.points[t].x,e,4,{stroke:this._getCol(s),fill:this._getProp("--back"),"stroke-width":2})))});let e=-16;p([...this.points[t].y.map(((s,i)=>f(`${this.cfg.labels[i]??i}: ${this.data[t][i].toFixed(2)}${this.units[i]??""}`,0,e+=16,this._getCol(i),h,{},!0))),f(d(t)[0],0,e+=21,u,h),f(d(t)[1].slice(0,-2),0,e+=16,u,h)])}}}}}),l),this.setConfig(e),this._resizer=new ResizeObserver((()=>o().then((()=>this._render())))),this._resizer.observe(this.$plot),async function(t,e=null,s=10){for(;!n(t)&&--s;)await o();s||(t=null),e&&e(t)}(this.$plot,(()=>{this.maxSecs=this.$plot.clientWidth/10,this.maxSecs<30&&(this.maxSecs=30)}))}release(){this._resizer.disconnect()}setConfig(t){this.cfg={...this.cfg,...t},this.$svp.className="svp "+(this.cfg.dark?"dark":"light"),this.$plot.style.background=this._getProp("--back"),this.units=[],this.cfg.labels=this.cfg.labels.map((t=>{let e="",s=t.match(/(.*)\[(.*)\]$/);return s&&(t=s[1],e=s[2]),this.units.push(e),t})),this.labels=[],s.config(this.$labels,{children_r:this.cfg.labels.map(((t,e)=>s.make("div",{class:"label",push:this.labels,children:[{class:"marker",style:`background:${this._getCol(e)}`},{tag:"span",text:t}],events:{click:()=>{"timeline"!=this.cfg.type&&(this.labels[e].classList.toggle("tint"),this._render())}}})))}),this.tmr&&clearTimeout(this.tmr),this._render()}clearData(){this.data={},this.tZero=r()/1e3|0,this._render()}fitData(){this._resetZ(),this._fit(),this._render()}autoData(){this._resetZ(),this._auto(!0),this._render()}setData(t){let e=Array.isArray(t);switch(this.cfg.type){case"running":this.tmr&&clearTimeout(this.tmr),this.tmr=setTimeout((()=>{let t=Object.values(this.data);var e,s;t.length<2||(e=l(t),s=l(t,2),e&&s&&e.every(((t,e)=>t===s[e]))&&delete this.data[l(Object.keys(this.data))],this.setData([...l(t)]))}),this.cfg.period);case"stack":if(!e)return;this.data[r()]=t.map(Number);break;case"timeline":if(e)return;if(!Array.isArray(Object.values(t)[0])){let e={};for(let s in t)for(let i in t[s])e[i]=!0;let s=new Array(Object.keys(e).length).fill(!1),i=Object.values(this.data);i.length&&(s=[...l(i)]);for(let e in t){for(let i in t[e])s[i]=t[e][i];t[e]=[...s]}}default:if(e)return;let s=Number(l(Object.keys(this.data)));for(let e in t){let i=Number(e);i=Math.floor(i<99999999999?1e3*i:i),(!s||s<i)&&(this.data[i]=t[e].map(Number))}}if(!this.cfg.labels.length){let t=Object.values(this.data);t.length&&this.setConfig({labels:t[0].map(((t,e)=>"Line "+e))})}this.tZero||(this._auto(!0),this._fit()),this.auto&&(this._resetZ(),this._clearMarkers()),this._render()}_render(){if(s.clear(this.$lines),s.clear(this.$grid),s.clear(this.$gtext),this.points=null,!this.tZero)return;let t=this.$plot.clientWidth,e=this.$plot.clientHeight;if(e<50)return;let a=Object.keys(this.data).map(Number),r=(t,s,i)=>((t,e,s,i)=>s==e?i:(t-e)*(16-i)/(s-e)+i)(t,s,i,e-c),o=e=>t+(e/1e3-this.tZero)*t/this.maxSecs,n=t=>this.points[a[t]]=this.data[a[t]];for(let t=0;t<a.length;t++)if(this.points){if(n(t),a[t]>=1e3*this.tZero)break}else t+1<a.length&&a[t+1]>=1e3*(this.tZero-this.maxSecs)&&(this.points={},n(t));if(this.points)if("timeline"==this.cfg.type){let t=Object.values(this.points),s=Object.keys(this.points).map(Number),a=[];for(let e in t[0]){let i=[],r=0;t[0][e]&&(i.push({fstart:!0,start:s[0]}),r=1);for(let t in this.points){t=Number(t);let s=this.points[t][e];r&&!s&&(l(i).stop=t,r=0),!r&&s&&(i.push({start:t}),r=1)}if(r){let t=l(i);t.stop=l(s),t.fstop=!0}a.push(i)}let r=t[0].length,n=(e-c-5)/r,h=.8*n;this.points=[];for(let t in a){t=Number(t);for(let e of a[t]){let s=o(e.start),a=o(e.stop),l=n*t+(n-h)/2,r=i.rect(s,l,a-s,h,3,0,{fill:this._getCol(t)},{class:"tblock"});this.$lines.appendChild(r),r.style.setProperty("--active",p(t,1,this._getColv()+.1)),this.points.push({x1:s,x2:a,y1:l,y2:l+h,axis:t,block:e,rect:r})}}}else{let s=Object.keys(this.points).length,a=t/1;if(s>a){let t=this.points;this.points={};let e=Object.keys(t);for(let i=0;i<a;i++){let l=Math.floor(i/a*s);this.points[e[l]]=t[e[l]]}}const l=999999999;let n=-l,c=l,h={},d={};for(let t in this.points){let e=this.points[t];for(let t in e)this._disabled(t)||(e[t]>n&&(n=e[t]),e[t]<c&&(c=e[t]),t in h||(h[t]=-l),t in d||(d[t]=l),e[t]>h[t]&&(h[t]=e[t]),e[t]<d[t]&&(d[t]=e[t]))}if(c!=l){let s=this.$single.classList.contains("active");for(let t in this.points){let e,i=o(t);e=s?this.points[t].map(((t,e)=>r(t,d[e],h[e]))):this.points[t].map((t=>r(t,c,n))),this.points[t]={x:i,y:e}}let a=Object.values(this.points);for(let t in a[0].y){if(this._disabled(t))continue;let e="";a.forEach((s=>e+=`${s.x},${s.y[t]} `)),i.config(this.$lines,{child:i.polyline(e,{fill:"none",stroke:this._getCol(t),"stroke-width":2})})}{const i=9;let a=Math.round(e/80),l=(n-c)/a,o={filter:`drop-shadow(0 0 1px ${this._getProp("--back")})`};for(let e=0;e<a+1;e++){let i=r(n-l*e,c,n);e!=a&&this.$grid.appendChild(g(0,i,t,i,this._getProp("--grid"),1,{"stroke-dasharray":"7 8"})),s||this.$gtext.appendChild(f((n-l*e).toFixed(1),0,i-5,this._getProp("--font"),12,o))}if(s){let t=0;for(let e in h){e=Number(e);for(let s=0;s<a+1;s++){let i=r(n-l*s,c,n);this.$gtext.appendChild(f((h[e]-(h[e]-d[e])/a*s).toFixed(1),t,i-5,this._getCol(e),12,o))}t+=Math.max(h[e].toFixed(1).length,d[e].toFixed(1).length)*i}}}}}{let s=Math.round(t/150),a=this.maxSecs/s,l=0;for(let t of[86400,3600,1800,60,30,10,5,1])if(a>=t){l=t;break}l||(l=.1),a=Math.floor(a/l)*l;let r=Math.ceil(this.tZero/a)*a;if(!a)return;let o=0;for(;;){let s=r-a*o,l=t-t*(this.tZero-s)/this.maxSecs;if(l<-75)break;o++;let n=this.maxSecs<86400?new Date(1e3*s).toTimeString().split(" ")[0]:new Date(1e3*s).toISOString().split("T")[0];i.config(this.$grid,{children:[g(0,e-c,t,e-c,this._getProp("--grid"),1.5),g(l,e-c-6,l,e-c-1,this._getProp("--grid"),2),f(n,l,e-c+14,this._getProp("--font"),11,{"text-anchor":"middle"})]})}}}_getProp(t){return window.getComputedStyle(this.$svp).getPropertyValue(t)}_resetZ(){let t=Object.keys(this.data);this.tZero=(t.length?Number(t.slice(-1)[0]):r())/1e3}_clearMarkers(){s.clear(this.$cursor),s.clear(this.$markers),s.clear(this.$tooltip)}_disabled(t){return this.labels[t]&&this.labels[t].classList.contains("tint")}_getColv(){return this.cfg.dark?.55:.47}_getCol(t){return p(t,.6,this._getColv())}_fit(){let t=Object.keys(this.data).map(Number);t.length>2&&(this.maxSecs=(l(t)-t[0])/1e3)}_auto(t){this.auto!=t&&(this.auto=t,t?this.$auto.classList.add("active"):this.$auto.classList.remove("active"))}_setMax(t){this.maxSecs=t,this._render()}labels=[];units=[];points=null;tZero=0;maxSecs=10;auto=!1;static css=".svp.light{--back:#fff;--font:#111;--grid:#cacaca}.svp.dark{--back:#1c1d22;--font:#c3c3c3;--grid:#4a4a4a}.svp{all:unset;font-family:Verdana,sans-serif;background:var(--back);height:100%;width:100%;display:flex;flex-direction:column;color:var(--font);user-select:none;padding:4px;box-sizing:border-box;z-index:10}.svp.fullscreen{position:fixed;left:0;top:0}.svp .svcont{width:100%;height:100%;overflow:hidden;touch-action:none}.svp .menu{all:unset;flex-shrink:0;display:flex;justify-content:space-between;align-items:center;padding:5px 3px;min-height:24px}.svp .label{all:unset;display:inline-flex;vertical-align:middle;align-items:center;padding-right:7px;font-size:14px;cursor:pointer}.svp .label.tint{filter:opacity(.4)}.svp .label .marker{all:unset;width:7px;height:7px;margin-right:6px}.svp .buttons{all:unset;display:flex;align-items:stretch;gap:3px;flex-wrap:wrap}.svp .tblock.active{fill:var(--active);stroke:#000;stroke-width:3}.svp .button{all:unset;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid var(--grid);border-radius:7px;padding:2px;width:16px;height:16px;font-size:11px}.svp .button.active{border:1px solid var(--font)}.svp .button:hover{border:1px solid var(--font)}.svp .none{display:none}.svp .dots{all:unset;display:flex;align-items:center;justify-content:center;cursor:pointer;padding-left:7px}"}const p=(t,e,s)=>((t,e,s)=>{t%=360;let i=e*Math.min(s,1-s),a=(e,a=(e+t/30)%12)=>s-i*Math.max(Math.min(a-3,9-a,1),-1);return"rgb("+Math.round(255*a(0))+","+Math.round(255*a(8))+","+Math.round(255*a(4))+")"})(260*t+0,e,s),f=(t,e,s,a,l,r={},o=!1)=>i.text(t,e,s,{fill:a,...r},{style:`font-size: ${l}px;font-weight:${o?"bold":"unset"}`}),g=(t,e,s,a,l,r,o={})=>i.line(t,e,s,a,{stroke:l,fill:"none","stroke-width":r,...o}),u=t=>i.svg({viewBox:"0 0 24 24"},{style:"width:24px;height:24px",child:i.path(t,{fill:"none",stroke:"var(--font)","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"})});var m=e.A;export{m as default};